<!-- cakesBakes.html -->
<!-- cackes_backs.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>METRO</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="backery.css" />
    <link rel="shortcut icon" href="c&c.png" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
</head>
<script>
    
</script>
<body>
    <!-- --------------------body---------------------------- -->
    <div class="body">
        
        <div class="items">
            <div class="text">
                <h1>Cakes & Bakes</h1>
            </div>
            <div class="products">

            </div>
           <!-- <table id="myTable">
                <tr id="tr" >
                    <td id="table_data">
                        <img src="eggs.jpg" id="Product1" class="product"/>
                        <h4 id="title">Premium Quality White Eggs Half dozen</h4>
                        <h3>Price: Rs.120</h3>
                        <span id="price">120</span>
                        <button id="AddToCart1">Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
<script>
    var button = document.getElementById("AddToCart1");
    var item = document.getElementById("Product1");
    var name = document.getAnimations("title");
    var Rs = document.getElementById("price");
    var cart = document.getElementById("Card");
    var lists = document.getElementById("listCart");
    const dummyDiv = document.createElement("div");

    button.addEventListener("click",function(){
        item.appendChild(dummyDiv);
    });
</script>
                <tr id="tr" >
                    <td id="table_data">
                        <img src="Goldeneggs.jpeg" id="Product" class="product"/>
                        <h4>Premium Quality (Desi Eggs) Half dozen</h4>
                        <h3>Price: Rs.160</h3><span id="priceDesiEgg">160</span>
                        <button>Add to Cart</button id="AddToCart"><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>

                <tr id="tr">
                    <td id="table_data">
                        <img src="bread.jpg" alt="" id="Product" class="product"/>
                        <h4>Premium Quality Milky Bread Full Size</h4>
                        <h3>Price: Rs.250</h3>
                        <button>Add to Cart</button id="AddToCart"><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="rusk.jpeg" alt="" id="Product" class="product"/>
                        <h4>Premium Quality Slice Rusk 12pcs</h4>
                        <h3>Price: Rs.60</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                
                <tr id="tr">
                    <td id="table_data">
                        <img src="milkpack.jpg" alt="" id="Product"/>
                        <h4>Nestle Milk Pack 250ml 1 pack</h4>
                        <h3>Price: Rs.70</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
                
                <tr id="tr">
                    <td id="table_data">
                        <img src="milkpack liter.jpg" alt="" id="Product"/>
                        <h4>Nestle Milk Pack 1000ml <br> 1 pack</h4>
                        <h3>Price: Rs.200</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="milkpack cream.jpg" alt="" />
                        <h4>Nestle Milk Pack Cream 250ml 1 Pack</h4>
                        <h3>Price: Rs.150</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
                
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="olper.jpg" alt="" id="Product"/>
                        <h4> Olpers Milk 1000ml <br> 1 Pack</h4>
                        <h3>Price: Rs.180</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="olper70.jpg" alt="" id="Product"/>
                        <h4>Olpers Milk 250ml <br> 1 Pack</h4>
                        <h3>Price: Rs.70</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="olper80.jpg" alt="" id="Product"/>
                        <h4>Olpers Milk 325ml <br> 1 Pack</h4>
                        <h3>Price: Rs.90</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
                
                <tr id="tr">
                    <td id="table_data">
                        <img src="olperCream.jpg" alt="" id="Product"/>
                        <h4>Olper Cream 250ml 1 Pack</h4>
                        <h3>Price: Rs.150</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
                
                <tr id="tr">
                    <td id="table_data">
                        <img src="haleeb.jpg" alt="" id="Product"/>
                        <h4>Nestle Haleeb Milk 250ml 1 Pack</h4>
                        <h3>Price: Rs.60</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="nido.jpg" alt=""id="Product" />
                        <h4>Nestle NIDO Fortigrow <br> 1 Pack</h4>
                        <h3>Price: Rs.900</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="nido1+.jpg" alt="" id="Product"/>
                        <h4>Nestle NIDO 1+ <br> 1 Pack</h4>
                        <h3>Price: Rs.450</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="bunyad.jpg" alt="" id="Product"/>
                        <h4>Nestle Bunyad 900gm <br> 1 Pack</h4>
                        <h3>Price: Rs.780</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="bunyad26.jpg" alt="" id="Product"/>
                        <h4>Nestle Bunyad 26gm <br> 1 Pack</h4>
                        <h3>Price: Rs.30</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="bunyad260.jpg" alt="" id="Product"/>
                        <h4>Nestle Bunyad 260gm <br> 1 Pack</h4>
                        <h3>Price: Rs.350</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
    
                <tr id="tr">
                    <td id="table_data">
                        <img src="burger.jpg" alt="" id="Product"/>
                        <h4>Premium Quality Zinger Burger</h4>
                        <h3>Price: Rs.250</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
                
                <tr id="tr">
                    <td id="table_data">
                        <img src="pizza.jpg" alt="" id="Product"/>
                        <h4>Premium Quality Pizza Chicken Fajita Family Size </h4>
                        <h3>Price: Rs.1,150</h3>
                        <button>Add to Cart</button><input type="number" name="quantity" id="quantity" value="1" />
                    </td>
                </tr>
            </table>  -->
        </div>
    </div>
        
    <!-- ---------------------Search Function--------------------- -->
    <!-- <script>
        var searchTable = function searchTable() {
        let filter = document.getElementById("search").value.toUpperCase();
        let table = document.getElementById("myTable");
        let tDATA = document.getElementsByTagName("tr");
        let error = document.createElement("a");
        error.setAttribute("href","cackes_backs.html");
        error.setAttribute("innerText","Item Not Found");
        error.style.color = "white";
             
        for (var i=0; i<tDATA.length; i++) {
          let td = tDATA[i].getElementsByTagName("td")[0];
      
          if (td) {
            let textValue = td.textContent || td.innerHTML;
            if (textValue.toUpperCase().indexOf(filter) > -1) {
              tDATA[i].style.display = "";
            } else {
              tDATA[i].style.display = "none";
              error.innerText="Item Not Found";
            //   document.writeIn("Item Not Found");
            }
          }
        }
      };

    </script> -->
    </div>
    
    <!-- --------------------body-Close--------------------------- -->

    <!-- -------------------------Shopping Cart------------------------- -->
    
    <div class="navBar">
        <a href="index.html"><img src="1.png" alt="" /></a>
        <!-- <h1><a href="index.html">Cash & Carry</a></h1> -->
        <div class="bars">
            <i class="fa fa-bars" id="bars"></i>
        </div>

        <div class="icons">
            <div class="dot">
                <span class="quantity">0</span>
            </div>
            <i class="fa fa-shopping-cart" id="shoppinG"></i>
            <i class="fa fa-search" id="searchIcon"></i>
        </div>
        <div class="search">
            <input type="search" name="search" id="search" placeholder="Search for items" onkeyup="searchTable()">
            <input type="submit" name="" id="btn" value="Search">
        </div>
        <hr>
        
    </div>
    <div class="cart" id="Card">
        <i class="fa fa-close" id="remove"></i>
        <h1>Shopping Cart <i class="fa fa-shopping-cart" id="cart"></i></h1>
        <ul class="listCard" id="listCart">
            <!-- \\dummy div -->
            
        </ul>
        <div class="checkOut">
            <div class="total" id="total">0</div>
        </div>
        <form action="pay.html" method="get">
            <input type="submit" name="pay" id="pay" value="Proceed to Pay" />
        </form>
    </div>

    <!-- -------------------------Shopping Cart------------------------- -->
    <div class="navlinks" id="nav">
        <div class="close">
            <i class="fa fa-close" id="close"></i>
        </div>
        <a href="index.html"><img src="1.png" alt="" /></a>
        <ul>
            <li><a href="index.html">HOME</a></li>
            <li><a href="about.html">ABOUT</a></li>
            <li><a href="contact.html">CONTACT</a></li>
            <li><a href="blogs.html">BLOGS</a></li>
        </ul>
    </div>
    <div class="desc" id="desc">
        <i class="fa fa-close" id="out"></i>
    </div> 

    </div>
    <script src="index.js"></script>
</body>

</html>
<script>
    
    const list = document.querySelector(".products");
    const listCart = document.querySelector(".listCard");
    let total = document.querySelector('.total');
    let quantity = document.querySelector('.quantity');

    let Products = [
        {
            id : 1,
            image : 'eggs.jpg',
            title : 'Premium Quality<br> White Eggs Half dozen',
            price : 125
        },
        {
            id : 2,
            image : 'Goldeneggs.jpeg',
            title : 'Premium Quality <br> Desi Eggs Half dozen', 
            price : 240
        },
    ];

    let listCards = [];
    function initApp(){
        Products.forEach((value, key)=>{
            let newDiv = document.createElement('div');
        newDiv.classList.add('item');
        newDiv.innerHTML = `
            <div><img src="${value.image}"></div>
            <h4 class="title">${value.title}</h4>
            <h3 class="price"><b>Price ${value.price.toLocaleString()}</b></h3>
            <button onclick = "addToCard(${key})">Add To Card</button>
            `;
        list.appendChild(newDiv);
        })
    }
    initApp();
// --------------------AddToCart Function---------------------
   
function addToCard(key){
    if(listCards[key] == null){
        // copy product form list to list card
        listCards[key] = JSON.parse(JSON.stringify(Products[key]));
        listCards[key].quantity = 1;
        // alert("Hello-World");
    }
    reloadCard();
}
function reloadCard(){
    listCart.innerHTML = '';
    let count = 0;
    let totalprice = 0;
    listCards.forEach((value,key)=>{
        totalprice = totalprice + value.price;
        count = count + value.quantity;
        if(value != null){
            let newDiv = document.createElement("li");
            newDiv.innerHTML = `
            <div><img src="${image.value}"></div>;
            <h4 class="title">${value.title}</h4>
            <h3 class="price"><b>${value.price.toLocaleString()}</b></h3>
            <div>
                    <button onclick = "changeQuantity(${key}, ${value.quantity - 1})">-</button>
                    <div class="count">${value.quantity}</div>
                    <button class="changeQuantity(${key}, ${value.quantity + 1})">+</button>    
            </div>`;
            listCart.appendChild(newDiv);
        }
    })
    total.innerText = totalprice.toLocaleString();
    quantity.innerText = count;
}

// -------------------Change quantity Function-------------------------
function changeQuantity(key, quantity){
    if(quantity == 0){
        delete listCards[key];
    }
    else{
        listCards[key].quantity = quantity;
        listCards[key].price = quantity * Products[key].price;
    }
    reloadCard();
}
</script>